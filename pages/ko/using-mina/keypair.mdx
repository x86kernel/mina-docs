import Page from "@reason/pages/Docs";
import DocLink from "@reason/components/DocLink";
export default Page({ title: "Generate a Keypair" });

# 키 쌍 생성하기

메인넷용 키 쌍을 생성하거나, 미나 테스트 네트워크 참여를 위해서는 먼저 공개키와 개인키로 구성된 키 쌍을 생성해야 합니다. 현재는 키 쌍을 생성하기 위해 mina-generate-keypair 와 ledger-app-mina 두가지 툴을 지원합니다. 그리고, 개인키가 올바르게 생성되었는지 검증하는 툴도 있습니다.

둘 이상의 키 쌍 생성을 하고 싶을수도 있습니다. 예를 들면, 블록 생산자를 안전하게 운영하고 싶다면 <DocLink copy="핫월렛 / 콜드월렛 블록 생산 설정" url="/advanced/hot-cold-block-production" /> 이 필요할 것입니다.


## 키 쌍 생성 방법

### mina-generate-keypair

저희는 `mina-generate-keypair` 라고 하는 간단한 명령줄 유틸리티를 제공합니다. 이것을 이용하여 간단히 키 쌍을 생성할 수 있으며, 아래에서 그 방법을 찾아보실 수 있습니다.

### 렛저 하드웨어 지갑

[렛저 나노 S](https://www.ledger.com/) 하드웨어 지갑을 사용하고 있다면, 그것을 이용해서 미나의 개인키를 안전하게 보관할 수 있습니다. 현재 독립적인 보안 감사를 진행하고 있고, 아직까지 어떠한 취약점도 발견되지 않았으며, 개발이 거의 완료되었습니다. <DocLink copy="ledger-app-mina 문서" url="/advanced/ledger-app-mina" />를 통해 이 툴을 사용해 보실 수 있습니다.

### 클라이언트 SDK

저희는 키 쌍을 생성하고, 트랜잭션에 서명할 수 있는 클라이언트 SDK 또한 만들었습니다. 이 방법은 권장되지 않으며 숙련된 보안 전문가만 사용해야 함을 명심하시기 바랍니다. 키 쌍을 생성하기 위해서는 `mina-generate-keypair` 툴을 대신 이용하시기 바랍니다. <DocLink copy="클라이언트 SDK 문서" url="/using-mina/keypair#client-sdk" />를 통해 더 자세한 정보를 얻으실 수 있습니다.

<br />

<Alert kind="warning">

개인 키를 절대 양도하지 마시고 안전하게 보관하십시오. 개인 키를 분실하거나, 악의적인 행위자한테 개인키를 탈취 당했을 경우 계정에 대한 접근 권한을 상실하고 자금 또한 잃을 수도 있습니다. 항상 공개 키를 제공하시기 바랍니다. 미나 재단은 귀하의 개인키를 절대 요구하지 않습니다.

</Alert>

<br />

## mina-generate-keypair 사용하기

키 쌍 생성 과정을 단순화하기 위해 `mina-generate-keypair` 라는 간단한 명령줄 유틸리티를 제공합니다. `mina-generate-keypair` 툴을 사용하여, 미나 네트워크에 참여하기 위한 키 쌍을 쉽게 생성할 수 있습니다. 아래에서 설치 방법과 사용 방법을 참고하시기 바랍니다.

## 설치

저희는 몇가지 운영체제에 대한 `mina-generate-keypair` 툴을 지원하고 있습니다. 아래에서 사용하고 있는 운영체제에 맞는 설명을 참고하시기 바랍니다.

### macOS

macOS 를 사용중이시면, Docker 를 설치하시고 아래에서 해당 설명을 참고하시기 바랍니다.

### Ubuntu 18.04 / Debian 9

<DocLink copy="미나 저장소를 추가" url="/getting-started#ubuntu-1804--debian-9" />하여, 아래의 명령어를 사용하여 설치가 가능합니다.

```
sudo apt-get install mina-generate-keypair=1.1.5-a42bdee
```

`mina-generate-keypair -version` 명령어를 실행하여 올바르게 설치되었는지 확인하실 수 있습니다. 해당 명령어의 출력은 `Commit a42bdeef6b0c15ee34616e4df76c882b0c5c7c2a on branch master` 이여야 합니다.

### Windows / 설명외의 다른 플랫폼

Docker 를 설치하시고 아래에서 3b. 설명을 참고하시기 바랍니다.

## 사용법

키 쌍을 생성하는 것은 몇 가지의 짧은 과정으로 간단하게 할 수 있습니다.

1. 먼저, 키를 보관할 폴더를 만들어주시기 바랍니다. 저희는 `~/keys` 폴더를 사용하는것을 추천합니다.

```
mkdir ~/keys
```

2. 다음으로, 해당 폴더의 권한이 올바르게 설정되어 있는지 확인하시기 바랍니다. 이것으로, 원치 않는 프로세스가 키 파일들에 접근하는 것을 방지할 수 있습니다.

```
chmod 700 ~/keys
```

3. Debian/Ubuntu 환경에서는 3a 의 과정을, Docker 환경에서는 3b 의 과정을 따라서 키를 생성하시기 바랍니다.

<br />

<Alert kind="warning">

안전하고 새로운 암호를 사용하시기 바랍니다. 미나 재단은 이 비밀번호를 절대 묻지 않으며 다른 사람들과도 공유해서는 안됩니다.

</Alert>

<br />

3a. Ubuntu/Debian 환경: `mina-generate-keypair` 명령어를 사용하여 키를 생성합니다. 메시지가 화면에 표시되면 키를 보호하는데 사용할 암호를 입력하시기 바랍니다. 설정 이후, 툴에서는 직접 입력을 받는게 아닌, CODA_PRIVKEY_PASS 환경 변수를 통해 암호를 사용합니다. <em>암호를 절대 잊어버리지 마십시오</em>

```
mina-generate-keypair -privkey-path ~/keys/my-wallet
```

3b. Windows/MacOS/Linux 에서의 Docker 환경: `minaprotocol/generate-keypair` Docker 이미지를 사용하여 키를 생성합니다. 메시지가 화면에 표시되면 키를 보호하는데 사용할 암호를 입력하시기 바랍니다. <em>암호를 절대 잊어버리지 마십시오</em>

```
cd ~
docker run  --interactive --tty --rm --volume $(pwd)/keys:/keys minaprotocol/generate-keypair:1.0.2-06f3c5c -privkey-path /keys/my-wallet
```

이렇게 하면 암호화된 개인키가 포함된 `~/keys/my-wallet` 파일과 일반 텍스트로된 공개키가 포함된 `~/keys/my-wallet.pub` 라는 두개의 파일이 시스템에 생성됩니다. 개인키 파일과 암호는 암호 관리자와 같은곳을 이용하여 안전하게 보관하시기 바랍니다.

<br />

<Alert kind="warning">

개인 키를 절대 양도하지 마시고 안전하게 보관하십시오. 개인 키를 분실하거나, 악의적인 행위자한테 개인키를 탈취 당했을 경우 계정에 대한 접근 권한을 상실하고 자금 또한 잃을 수도 있습니다. 항상 공개 키를 제공하시기 바랍니다. 미나 재단은 귀하의 개인키를 절대 요구하지 않습니다.

</Alert>

<br />

4. 마지막으로, 개인키 파일에 대한 권한이 올바르게 설정되었는지 확인하시기 바랍니다. 이렇게 하면, 원치 않는 프로세스가 파일에 접근하는것을 방지할 수 있습니다.

```
chmod 600 ~/keys/my-wallet
```

## 개인키 검증하기

이제, 키가 생성되었습니다. 당신은 이 키가 작동하는지 검증하고 싶을것입니다. 트랜젝션에 서명할 수 있는지 확인하면, 검증이 가능합니다. `mina-validate-keypair` 툴을 사용하여 검증할 수 있습니다.

Linux 에서는 아래의 명령어를 실행하시기 바랍니다:

```
mina-validate-keypair -privkey-path <path-to-the-private-key-file>
```

Docker 를 사용중이시면, 아래의 명령어를 실행하시기 바랍니다:

```
docker run --interactive --tty --rm --entrypoint=mina-validate-keypair --volume $(pwd)/keys:/keys minaprotocol/generate-keypair:1.0.2-06f3c5c -privkey-path /keys/my-wallet
```

## 다음 과정

이제, 키 쌍이 생성되었으므로 <DocLink copy="네트워크에 접속" url="/using-mina/connecting" />할 수 있고, 개인키를 공유할 수 있습니다.
