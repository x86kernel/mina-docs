import Page from "@reason/pages/Docs";
import DocLink from "@reason/components/DocLink";
export default Page({ title: "Send a Payment" });

# 미나를 이용해서 지불해보기

이 섹션에서는 미나 클라이언트를 이용해서 트랜잭션을 보내는 방법과 블록체인과 상호작용 하는 방법에 대한 간략한 개요를 제공합니다.

## 오프라인에서 서명된 트랜잭션 사용하기

트랜잭션을 보내고 싶지만 노드를 직접 실행하지 않는 경우, 노드를 실행하고 있는 다른사람에게 위임하면 됩니다. 실행중인 노드를 통해 트랜잭션을 보내고 싶으시면, [연결된 노드 사용하기](#using-a-connected-node)로 넘어가시면 됩니다.

### 렛저(Ledger) 장치 사용

개인키가 렛저 장치에 있는 경우 서명된 트랜잭션을 오프라인으로 생성하려면 <DocLink copy="렛저 오프라인 모드" url="/advanced/ledger-app-mina#offline-mode" />를 참조하시기 바랍니다.

### generate-keypair 툴로 생성된 키 쌍 사용

더 나은 툴이 출시될 예정입니다. https://github.com/MinaProtocol/mina/issues/8928 를 참조하시기 바랍니다. 일단 지금은 해당 이슈 답변에 달려있는 해결 방법을 이용하시기 바랍니다.

### client-sdk 로 생성된 키 쌍 사용

client-sdk 를 사용하여 서명된 트랜잭션을 생성하려면 [client-sdk readme page](https://github.com/MinaProtocol/mina/tree/develop/frontend/client_sdk) 를 참고하시기 바랍니다.

### 트랜잭션 보내기

호스팅 되고있는 서비스를 사용하여 서명된 트랜잭션을 날릴 수 있습니다. 서명된 트랜잭션을 날릴때 _개인키가 노출되지 않습니다_.

client-sdk 로 서명된 트랜잭션은 [https://minaexplorer.com/broadcast-tx](https://minaexplorer.com/broadcast-tx) 를 사용하시면 됩니다.

렛저 장치로 서명된 트랜잭션은 [https://minaexplorer.com/broadcast-ledger](https://minaexplorer.com/broadcast-ledger) 를 사용하시면 됩니다.

## 연결된 노드 사용

나머지 섹션에서 시스템에 미나 클라이언트가 설치되어 있다고 가정하며, 미나가 설치되어 있지 않은 경우 <DocLink copy="시작하기" url="/using-mina/getting-started" />를 참조하시기 바랍니다.

## 계정 가져오기

노드가 동기화되면 트랜잭션에 서명하고 지불을 받을 주소를 생성할 수 있도록 공개/개인키 쌍을 가져와야 합니다. 보안상의 이유로 공격자가 접근하기 어려운 디렉토리에 키를 배치하려고 합니다.

아래의 명령을 실행하여 <DocLink copy="이전에 생성된" url="/using-mina/keypair" /> 키 쌍 파일을 가져옵니다.

    mina accounts import -privkey-path ~/keys/my-wallet

계정을 만들 때 입력했던 암호를 묻는 메시지가 표시될 것입니다.

<Alert kind="warning">

공개키는 누구와도 자유롭게 공유해도 되지만, 개인키 파일은 매우 조심해야 합니다. 개인키는 귀하의 자금에 대한 암호와 동일하므로 누구와도 공유하지 마시기 바랍니다.

</Alert>

해당 명령의 응답은 다음과 같습니다.

    😄 Imported account!
    Public key: B62qjaA4N9843FKM5FZk1HmeuDiojG42cbCDyZeUDQVjycULte9PFkC

Additionally you can use the `mina accounts create` command to generate new accounts to send and recieve transactions.

Since the public key is quite long and difficult to remember, let's save it as an environment variable. Use the following command but replace `<YOUR-PUBLIC-KEY>` with the public key output from the previous command:

    export MINA_PUBLIC_KEY=<YOUR-PUBLIC-KEY>

Now we can access this everywhere as `$MINA_PUBLIC_KEY` -- check if it saved properly by trying `echo $MINA_PUBLIC_KEY`.

Note that these environment variables will only be saved for the current shell session, so if you want to save them for future use, you can add them to `~/.profile` or `~/.bash_profile`.

<Alert>

If you are running the node on a cloud virtual machine, make sure to export and save the key file. You can export the key with:

    mina accounts export -public-key <PUBLIC-KEY> -privkey-path <EXPORT-PATH>

Then save it to your local machine, maybe using [scp](https://linux.die.net/man/1/scp):

    scp <EXPORT-PATH> <LOCAL-DESTINATION>

Later, when starting up a new VM, you can upload the key and then import it:

    mina accounts import -privkey-path <PRIVATE-KEY-FILE>

</Alert>

If you ever forget what keypairs you've already created, you can see them all with:

    mina accounts list

## Check account balance

We can check the balance of all our accounts using this command:

    mina accounts list

You might see `Balance: 0 mina` for your account. Depending on the traffic in the network, it may take a few blocks before your transaction goes through.

<Alert>

Tip: You can run `mina client status` to see the current block height updating.

</Alert>

## Make a payment

Finally we get to the good stuff, sending our first transaction! Before you send a payment, you'll need to unlock your account:

    mina accounts unlock -public-key $MINA_PUBLIC_KEY

For testing purposes, we will specify your public key as the receiver and sender. This just means that we are sending a transaction to ourselves, you can see your public key by issuing the following command:

```
echo $MINA_PUBLIC_KEY
```

<Alert kind="warning">

If the recieving account has not recieved any transactions, there will be an additional Account Creation Fee of `1 MINA` that will be deducted from the transaction amount.

</Alert>

Let's send some of our Mina to ourselves to see what a payment looks like:

    mina client send-payment \
      -amount 1.5 \
      -receiver $MINA_PUBLIC_KEY \
      -fee 0.1 \
      -sender $MINA_PUBLIC_KEY

If you're wondering what we passed in to the commands above:

- For `amount`, we're sending a test value of `1.5` mina which is enough to cover the Account Creation Fee
- The `receiver` is the public key of the account receiving the transaction, eg. `B62qjaA4N9843FKM5FZk...`
- For `fee`, let's use 0.1 mina
- The `sender` is the public key of the account sending the transaction, eg. `B62qjaA4N9843FKM5FZk...`

If this command is formatted properly, we should get a response that looks like the following:

    Dispatched payment with ID 3XCgvAHLAqz9VVbU7an7f2L5ffJtZoFega7jZpVJrPCYA4j5HEmUAx51BCeMc232eBWVz6q9t62Kp2cNvQZoNCSGqJ1rrJpXFqMN6NQe7x987sAC2Sd6wu9Vbs9xSr8g1AkjJoB65v3suPsaCcvvCjyUvUs8c3eVRucH4doa2onGj41pjxT53y5ZkmGaPmPnpWzdJt4YJBnDRW1GcJeyqj61GKWcvvrV6KcGD25VEeHQBfhGppZc7ewVwi3vcUQR7QFFs15bMwA4oZDEfzSbnr1ECoiZGy61m5LX7afwFaviyUwjphtrzoPbQ2QAZ2w2ypnVUrcJ9oUT4y4dvDJ5vkUDazRdGxjAA6Cz86bJqqgfMHdMFqpkmLxCdLbj2Nq3Ar2VpPVvfn2kdKoxwmAGqWCiVhqYbTvHkyZSc4n3siGTEpTGAK9usPnBnqLi53Z2bPPaJ3PuZTMgmdZYrRv4UPxztRtmyBz2HdQSnH8vbxurLkyxK6yEwS23JSZWToccM83sx2hAAABNynBVuxagL8aNZF99k3LKX6E581uSVSw5DAJ2S198DvZHXD53QvjcDGpvB9jYUpofkk1aPvtW7QZkcofBYruePM7kCHjKvbDXSw2CV5brHVv5ZBV9DuUcuFHfcYAA2TVuDtFeNLBjxDumiBASgaLvcdzGiFvSqqnzmS9MBXxYybQcmmz1WuKZHjgqph99XVEapwTsYfZGi1T8ApahcWc5EX9
    Receipt chain hash is now A3gpLyBJGvcpMXny2DsHjvE5GaNFn2bbpLLQqTCHuY3Nd7sqy8vDbM6qHTwHt8tcfqqBkd36LuV4CC6hVH6YsmRqRp4Lzx77WnN9gnRX7ceeXdCQUVB7B2uMo3oCYxfdpU5Q2f2KzJQ46

You may not see the `Receipt chain hash` on the first transaction from the account, but in following transactions, this will show you the head of the receipt chain hash list.

## Staking and Snarking

Once you feel comfortable with the basics of creating an address, and sending & receiving mina, we can move on to the truly unique parts of the Mina network - <DocLink copy="participating in consensus and helping compress the blockchain" url="/using-mina/staking" />.
